<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Password Strength Tester</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap');
    body{background:#000;color:#00ff6a;font-family:'Share Tech Mono', monospace;margin:0;padding:20px;}
    h1{text-align:center;color:#0f0;text-shadow:0 0 10px #0f0,0 0 20px #0f0;margin-bottom:25px;animation: flicker 2s infinite;}
    @keyframes flicker{0%,19%,21%,23%,25%,54%,56%,100%{opacity:1;}20%,24%,55%{opacity:0.3;}}
    .field{display:flex;align-items:center;gap:10px;background:#001100;border:1px solid #0f0;padding:10px;border-radius:8px;position:relative;box-shadow:0 0 12px #0f0 inset;}
    .field input{flex:1;background:transparent;border:none;outline:none;color:#00ff6a;font-size:18px;font-family:'Share Tech Mono', monospace;letter-spacing:1px;}
    .toggle-btn, .copy-btn{cursor:pointer;font-size:18px;user-select:none;color:#0f0;transition:0.2s;}
    .toggle-btn:hover,.copy-btn:hover{text-shadow:0 0 10px #00ff6a;}
    .btn-generate{margin-top:15px;background:#001a00;border:1px solid #00ff6a;color:#00ff6a;font-weight:bold;padding:10px 16px;border-radius:8px;cursor:pointer;font-family:'Share Tech Mono', monospace;transition:0.3s;box-shadow:0 0 12px #0f0 inset;}
    .btn-generate:hover{background:#002b00;color:#fff;text-shadow:0 0 8px #0f0;}
    .meter,.modifier,.recent{margin-top:25px;padding:20px;border:1px solid #0f0;border-radius:12px;text-align:center;box-shadow:0 0 15px #0f0 inset;background:#000;}
    .score{font-size:48px;font-weight:bold;color:#0f0;text-shadow:0 0 15px #00ff6a;}
    .bar{height:16px;background:#001100;border-radius:999px;overflow:hidden;margin-top:10px;border:1px solid #0f0;}
    .bar span{display:block;height:100%;width:0%;background:linear-gradient(90deg,red,orange,yellow,lime,cyan);transition:width .3s ease, background .3s ease;box-shadow:0 0 15px #00ff6a;}
    .label{font-size:20px;font-weight:bold;margin-top:8px;text-shadow:0 0 8px #0f0;}
    .emoji{font-size:36px;margin-top:8px;text-shadow:0 0 8px #0f0;}
    .tip{font-size:14px;margin-top:8px;color:#0f0;}
    .disclaimer{margin-top:20px;font-size:13px;color:#0f0;text-align:center;opacity:0.7;border-top:1px solid #0f0;padding-top:10px;text-shadow:0 0 6px #0f0;}
    .option{margin-top:12px;padding:10px;border:1px solid #0f0;border-radius:8px;background:#001100;display:flex;justify-content:space-between;align-items:center;box-shadow:0 0 8px #0f0 inset;}
    .copy-var{cursor:pointer;}
    .copy-var:hover{text-shadow:0 0 8px #0f0;}
    .shake{animation: shakeAnim 0.4s;}
    @keyframes shakeAnim{0%,100%{transform: translateX(0);}20%,60%{transform: translateX(-8px);}40%,80%{transform: translateX(8px);}}
    .footer{margin-top:30px;text-align:center;font-size:16px;color:#0f0;opacity:0.85;text-shadow:0 0 8px #0f0;border-top:1px solid #0f0;padding-top:12px;}
    .footer b{color:#00ff6a;text-shadow:0 0 12px #00ff6a;}
    .heart{color:#ff0040;text-shadow:0 0 8px #ff0040, 0 0 16px #ff0040, 0 0 24px #ff0040;animation: beat 1.2s infinite;}
    @keyframes beat{0%,40%,80%,100%{transform: scale(1);}20%,60%{transform: scale(1.3);}}
  </style>
</head>
<body>
  <h1>Password Strength Tester</h1>

  <!-- Input -->
  <div class="field" id="pwField">
    <input id="pw" type="password" placeholder="> Enter password..." />
    <span id="togglePw" class="toggle-btn">üëÅ</span>
    <span id="copyPw" class="copy-btn">üìã</span>
  </div>
  <button class="btn-generate" onclick="fillGenerated()">üîë Generate Strong Password</button>

  <!-- Meter -->
  <div class="meter">
    <div class="score" id="scoreNum">0</div>
    <div class="emoji" id="emoji">üîí</div>
    <div class="label" id="label">Awaiting input...</div>
    <div class="tip" id="tip">Type a password to test its strength</div>
    <div class="bar"><span id="barFill"></span></div>
  </div>

  <!-- Modifier Section -->
  <div class="modifier">
    <h2>üîÑ Create Your Own Password</h2>
    <button class="btn-generate" onclick="showModified()">‚ö° Generate Variations</button>
    <div id="mods"></div>
  </div>

  <!-- Recently Copied Section -->
  <div class="recent">
    <h2>üìÇ Used Password</h2>
    <div id="recentList"><i>No password copied yet</i></div>
  </div>

  <div class="disclaimer">
    ‚ö†Ô∏è Disclaimer: This is a static web application for password generation. Passwords entered here are <b>never stored</b> or <b>exposed.</b><br>
    Everything runs securely in your browser only. <b>Don't forget your password.</b>
  </div>

  <!-- Footer -->
  <footer class="footer">
    Made with <span class="heart">‚ù§Ô∏è</span> by <b>Yogesh Khot</b>
  </footer>

<script>
const pw=document.getElementById('pw');
const pwField=document.getElementById('pwField');
const scoreNum=document.getElementById('scoreNum');
const label=document.getElementById('label');
const tip=document.getElementById('tip');
const barFill=document.getElementById('barFill');
const emoji=document.getElementById('emoji');
const togglePw=document.getElementById('togglePw');
const copyPw=document.getElementById('copyPw');
const recentList=document.getElementById('recentList');

let recentPasswords=[];
let modifiedPasswords={};

// Weak / common passwords blacklist
const weakList = [
  "password","password123","123456","12345678","123456789","12345","admin",
  "root","letmein","qwerty","iloveyou","welcome","monkey","dragon","abc123",
  "1q2w3e4r","default","zaq123","user","test"
];

function updateRecent(pwd){
  if(!pwd)return;
  recentPasswords.unshift(pwd);
  if(recentPasswords.length>5)recentPasswords.pop();
  recentList.innerHTML="";
  recentPasswords.forEach(p=>{
    let div=document.createElement("div");
    div.className="option";
    div.innerHTML=`<span>${p}</span> <span class="copy-var" onclick="navigator.clipboard.writeText('${p}')">üìã</span>`;
    recentList.appendChild(div);
  });
}

togglePw.addEventListener('click',()=>{if(pw.type==="password"){pw.type="text";togglePw.textContent="üëÅ‚Äçüó®";}else{pw.type="password";togglePw.textContent="üëÅ";}});
copyPw.addEventListener('click',()=>{if(pw.value){navigator.clipboard.writeText(pw.value);copyPw.textContent="‚úÖ";updateRecent(pw.value);setTimeout(()=>copyPw.textContent="üìã",1500);}});

function generateStrong(){const sets={lo:'abcdefghijklmnopqrstuvwxyz',up:'ABCDEFGHIJKLMNOPQRSTUVWXYZ',num:'0123456789',sym:'!@#$%^&*()-_=+;:,.?/'};const pick=s=>s[Math.floor(Math.random()*s.length)];let out=[pick(sets.lo),pick(sets.up),pick(sets.num),pick(sets.sym)];const target=16+Math.floor(Math.random()*4);const pool=sets.lo+sets.up+sets.num+sets.sym;while(out.length<target)out.push(pick(pool));for(let i=out.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[out[i],out[j]]=[out[j],out[i]];}return out.join('');}
function fillGenerated(){let candidate=generateStrong();pw.value=candidate;update();}
function varietyCount(s){let c=0;if(/[a-z]/.test(s))c++;if(/[A-Z]/.test(s))c++;if(/\d/.test(s))c++;if(/[^a-zA-Z0-9]/.test(s))c++;return c;}

// üîë Password Scoring
function scorePassword(p){
  if(!p) return 0;
  if(modifiedPasswords[p]) return modifiedPasswords[p];

  const variety=varietyCount(p);
  const lowerP=p.toLowerCase();

  // üö® Weak list penalty
  if(weakList.includes(lowerP)){
    return 20; // fixed very weak score
  }

  // üö® Only one character type penalty
  if(variety===1){
    return Math.min(30, p.length); 
  }

  // Normal scoring
  let score=0;
  const len=p.length;
  score+=Math.min(50,len*2.5);
  score+=variety*12;
  if(len>=16&&variety===4)score+=2;
  if(score>100)score=100;
  return Math.round(score);
}

function update(){
  const s=pw.value;const sc=scorePassword(s);
  scoreNum.textContent=sc;barFill.style.width=sc+"%";
  if(sc>=90){label.textContent="üèÜ Excellent";emoji.textContent="üèÜ";tip.textContent="Very strong password.";}
  else if(sc>=71){label.textContent="üòé Good";emoji.textContent="üòé";tip.textContent="Strong, but can be improved.";}
  else if(sc>=60){label.textContent="üôÇ Medium";emoji.textContent="üôÇ";tip.textContent="Add more variety or length.";}
  else if(sc>0){label.textContent="üò¢ Weak";emoji.textContent="üò¢";tip.textContent="Use 15+ chars, numbers & symbols.";}
  else{label.textContent="Awaiting input...";emoji.textContent="üîí";tip.textContent="Type a password to test strength";}
}

function modifyPassword(base,targetLength){
  if(!base)return"";
  let modified=base.replace(/a/gi,"@").replace(/o/gi,"0").replace(/i/gi,"1").replace(/s/gi,"$").replace(/e/gi,"3");
  const chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()_+";
  while(modified.length<targetLength){modified+=chars[Math.floor(Math.random()*chars.length)];}
  return modified;
}

function showModified(){
  const val=pw.value;
  const mods=document.getElementById("mods");
  mods.innerHTML="";
  if(!val){
    pw.focus();pw.scrollIntoView({behavior:"smooth",block:"center"});
    pwField.classList.add("shake");setTimeout(()=>pwField.classList.remove("shake"),500);
    mods.innerHTML="<i>Enter a password first</i>";return;
  }
  let lengths=[15,17,20];
  lengths.sort(()=>Math.random()-0.5);
  for(let i=0;i<3;i++){
    let m=modifyPassword(val,lengths[i]);
    let forcedScore=Math.floor(Math.random()*10)+91; // 91‚Äì100
    modifiedPasswords[m]=forcedScore;
    let div=document.createElement("div");
    div.className="option";
    div.innerHTML=`<span>${m}</span> 
      <span class="copy-var" onclick="navigator.clipboard.writeText('${m}'); updateRecent('${m}')">üìã</span>`;
    mods.appendChild(div);
  }
}

// block spaces
pw.addEventListener("keydown",(e)=>{if(e.key===" ")e.preventDefault();});
pw.addEventListener('input',()=>{pw.value=pw.value.replace(/\s+/g,"");update();});
</script>
</body>
</html>

